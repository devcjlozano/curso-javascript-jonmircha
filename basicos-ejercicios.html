<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Basicos-ejercicios</title>
  </head>
  <body>
    <h1>Ejercicios básicos</h1>
    <script>
      /*
         1) Función que cuente el número de caracteres de una cadena de texto
         ejemplo: miFuncion("Hola Mundo") devolvera 10
       */
      const contadorCaracteres = (texto) =>
        typeof texto !== "string"
          ? console.warn("El dato no es string")
          : texto.length;

      const cadena = "Carlos Javier";
      const numeroCaracters = contadorCaracteres(cadena);

      console.log("El número de caracteres de la cadena es: ", numeroCaracters);

      /*
        2) Función que devuelva el texto recortado según el número de caracteres indicados
        ejemplo: miFunción("Hola Mundo", 4) devolverá Hola
       */

      const cortarTexto = (texto, longitud = undefined) =>
        typeof texto !== "string"
          ? console.warn("El texto no es string")
          : texto.slice(0, longitud);

      let cadenaCortar = "Hola mundo";
      cadenaCortar = cortarTexto(cadenaCortar, 3);
      console.log("La cadena cortada es: ", cadenaCortar);

      /*
       3) Función que dado un string, te devuelva un array de textos separados por cierto caracter
        por ejemplo: miFuncion('hola que tal', '') devolverá ['hola', 'que', 'tal']
       */

      const separarCaracteresEnArray = (texto, separador) =>
        typeof texto !== "string" || typeof separador !== "string"
          ? console.warn("El dato pasado no es string")
          : texto.split(separador);

      let cadenaEnString = "Hola que tal";
      cadenaEnString = separarCaracteresEnArray(cadenaEnString, " ");
      console.log("La cadena en string es: ", cadenaEnString);

      /*
        4) Función que repite un texto x veces. Por ejemplo, miFuncion('Hola Mundo', 3) devolverá
        Hola Mundo, Hola Mundo, Hola Mundo
       */

      const repetirTexto = (texto, veces) => {
        if (typeof texto !== "string") {
          console.warn("El dato pasado no es string");
        }
        if (isNaN(veces)) {
          console.warn("El numero pasado no es un número");
        }
        const textoAux = texto;
        for (let i = 0; i < veces - 1; i += 1) {
          texto += `${veces - 1 === i - 1 ? "" : ", "}${textoAux}`;
        }
        return texto;
      };

      let textoRepetir = "Hola mundo";
      textoRepetir = repetirTexto(textoRepetir, 3);
      console.log("El texto repetido es");
      console.log(textoRepetir);
      /*
        5) Función que invierta las palabras de una cadena de texto, por ejemplo, ("Hola mundo") devolverá
        "odnum aloH".
      */

      const invertirTexto = (texto) =>
        typeof texto !== "string"
          ? console.warn("El dato pasao no es string")
          : texto.split("").reverse().join("");

      const textoAinvertir = "Hola mundo";
      const textoInvertido = invertirTexto(textoAinvertir);
      console.log("El texto invertido es", textoInvertido);

      /*
        6) Función para contar el número de veces que se repite una palabra en un texto largo
         por ejemplo, ("hola mundo adios mundo", "mundo") devolverá 2
      */

      const contadorPalabras = (texto, palabra) => {
        if (typeof palabra !== "string") {
          return console.warn("La palabra pasada no es un string");
        }
        if (typeof texto !== "string") {
          return console.warn("La palabra pasada no es un string");
        }
        let contadorPalabras = 0;
        let indicePalabra = texto.indexOf(palabra);
        while (indicePalabra > -1) {
          contadorPalabras += 1;
          indicePalabra = texto.indexOf(palabra, indicePalabra + 1);
        }
        return contadorPalabras;
      };

      const palabraABuscar = "mundo";
      const textoPalabrasRepetidas = "hola mundo adios mundo";
      console.log(
        `El número de veces que se repetite la palabra ${palabraABuscar} es ${contadorPalabras(
          textoPalabrasRepetidas,
          palabraABuscar
        )}`
      );

      /*
        7) Función que valide si una palabra o frase dada es un palíndromo (que se lee igual en un sentido que en otro).
        Por ejemplo, ("salas") devolverá true
      */

      const esPalindromo = (palabra) => {
        const longitudPalabra = palabra.length - 1;
        let indiceDerecha = longitudPalabra;
        let esPalindromo = true;

        for (let i = 0; i < Math.round(longitudPalabra / 2); i += 1) {
          indiceDerecha = longitudPalabra - i;
          console.log("estoy comparando", i, indiceDerecha);
          if (palabra[i] !== palabra[indiceDerecha]) {
            esPalindromo = false;
            break;
          }
        }
        return esPalindromo;
      };

      // otra manera de hacer la función palíndroma

      const esPalindromoVersionDos = (palabra) => {
        palabra = palabra.toLowerCase();
        const palabraAlReves = palabra.split("").reverse().join("");

        return palabra === palabraAlReves;
      };

      const palabraPalindroma = "salas";
      const esPalabraPalindromo = esPalindromo(palabraPalindroma);
      console.log(
        `La palabra ${palabraPalindroma} ${
          esPalabraPalindromo ? "es" : "no es"
        } palíndroma`
      );
      /*
        8) Función que elimine cierto patrón de caracteres de un texto dado.
        Por ejemplo ("xyz1, xyz2, xyz3, xyz4 y xyz5", "xyz") devolverá 1, 2, 3, 4 y 5
      */

      const eliminarPatron = (texto, patron) => {
        return texto.replaceAll(patron, "");
      };

      const texto = "xyz1, xyz2, xyz3, xyz4, xyz5";
      const patron = "xyz";
      console.log(
        "El texto con el patrón eliminado es ",
        eliminarPatron(texto, patron)
      );

      /*
        9) Función que obtenga un número aleatorio entre 501 y 600
      */

      const generarNumeroAleatorio = () => {
        const numeroAleatorio = Math.random() * (500 - 600) + 500;
        return Math.round(numeroAleatorio + 1);
      };

      const numeroAleatorio = generarNumeroAleatorio();
      console.log("El número aleatorio es", numeroAleatorio);

      /*
        10) Función que reciba un número y evalúe si es capicúa o no (se lee igual en un sentido que en otro)
        Por ejemplo, (2002) devolverá true
      */

      const esNumeroCapicua = (numero) => {
        if (typeof numero !== "number") {
          return console.warn("No se ha pasado un número");
        }
        const numeroEnString = numero.toString();
        const numeroEnStringAlReves = numeroEnString
          .split("")
          .reverse()
          .join("");
        return numeroEnString === numeroEnStringAlReves;
      };

      const numero = 2002;
      console.log(
        `El número ${esNumeroCapicua(numero) ? "es" : "no es"} capicúa`
      );

      /*
        11) Función que calcule el factorial de un número (El factorial de un entero 
        positivo n, se define como el producto de todos los números enteros positivos desde 1 hasta n)
        Por ejemplo, (5) devolverá 120
      */

      const calcularFactorial = (numero) => {
        let factorial = 1;
        for (let i = 1; i <= numero; i += 1) {
          factorial *= i;
        }
        return factorial;
      };

      const numeroFactorial = 5;
      console.log(
        `El factorial de ${numeroFactorial} es: `,
        calcularFactorial(numeroFactorial)
      );

      /*
        12) Función que determine si un número es primo (aquel que solo es divisible por sí mismo y la unidad)
        Por ejemplo (7) devolverá true
      */

      const determinarNumeroEsPrimo = (numero) => {
        if (!numero) {
          return console.warn("No has pasado ningún parámetro");
        }
        if (typeof numero !== "number") {
          return console.warn("No has pasado un número");
        }
        let contadorNumerosDivisibles = 0;
        for (let i = 2; i < numero; i += 1) {
          if (numero % i === 0) {
            return false;
          }
        }
        return true;
      };

      const numeroPrimo = 7;
      console.log(
        `El número ${numeroPrimo} ${
          determinarNumeroEsPrimo(numeroPrimo) ? "es" : "no es"
        } primo`
      );

      /*
        13) Función que determine si un número es par o impar
        Por ejemplo (29) devolverá false
      */

      const comprobarNumeroPar = (numero) => {
        if (!numero) {
          return console.warn("No has pasado ningún parámetro");
        }
        if (typeof numero !== "number") {
          return console.warn("No has pasado un número");
        }
        return numero % 2 === 0;
      };

      const numeroPar = 29;
      console.log(
        `El número ${numeroPar} ${
          comprobarNumeroPar(numeroPar) ? "es" : "no es"
        } par`
      );

      /*
        14) Función que convertirá grados Celcius a Fahrenteit y viceversa
        Por ejemplo, (0, "C") devolverá 32ºF
      */

      const convertirGrados = (grados, unidad) => {
        if (typeof grados !== "number") {
          console.warn("grados no es un numero");
        }
        if (typeof unidad !== "string" || (unidad !== "C" && unidad !== "F")) {
          console.warn("No se reconoce el formado de grados");
        }
        return unidad === "C"
          ? `${(grados * 9) / 5 + 32}ºF`
          : `${((grados - 32) * 5) / 9}ºC`;
      };

      const grados = 0;
      const unidadGrados = "C";

      console.log(
        `${grados}º${unidadGrados} son ${convertirGrados(grados, unidadGrados)}`
      );
      /*
       15) Función que convierte número de base binaria a decimal y viceversa.
       Por ejemplo, (100, 2) devolverá 4 base 10 
      */
      const convertirBinarioDecimal = (numero, base) => {
        if (typeof numero !== "number") {
          console.warn(`El número ${numero} no es un número`);
        }
        if (base !== 10 || base !== 2) {
          console.warn("La base que se ha pasado no es 2 ni 10");
        }
        return base === 10
          ? `${numero.toString(2)} base 2`
          : `${parseInt(numero, base)} base 10`;
      };
      let numeroAConvertir = 100;
      let baseNumero = 2;
      console.log(
        `El número ${numeroAConvertir} en base ${baseNumero} es ${convertirBinarioDecimal(
          numeroAConvertir,
          baseNumero
        )}`
      );
      numeroAConvertir = 4;
      baseNumero = 10;
      console.log(
        `El número ${numeroAConvertir} en base ${baseNumero} es ${convertirBinarioDecimal(
          numeroAConvertir,
          baseNumero
        )}`
      );

      /*
        Función que devuelva el importe final después de aplicar un descuento a una cantidad dada.
        Por ejemplo, (1000, 20) devolverá 800
      */

      const calcularImporteConDescuento = (cantidad, descuento) => {
        if (typeof cantidad !== "number") {
          console.warn(`La cantidad ${cantidad} no es un número`);
        }
        if (typeof descuento !== "number") {
          console.warn(`El descuento ${descuento} no es un número`);
        }
        const cantidadADescontar = (cantidad * descuento) / 100;
        if (cantidad - cantidadADescontar <= 0) {
          return 0;
        }
        return cantidad - cantidadADescontar;
      };

      const importeProducto = 1000;
      const descuento = 20;
      console.log(
        `El precio orginal es ${importeProducto} y con descuento se queda en ${calcularImporteConDescuento(
          importeProducto,
          descuento
        )}`
      );
      /*
        Función que dada un fecha válida determine cuando años han pasado hasta hoy.
        Por ejemplo, (new Date(1986, 3, 28) devolverá 36 años (en 2022)
      */

      const calcularAniosPasados = (fecha) => {
        if (typeof fecha !== Date) {
          console.log("La fecha pasada no es una fecha válida");
        }
        const anioFechaParam = fecha.getFullYear();
        const anioActual = new Date().getFullYear();
        return `${anioActual - anioFechaParam} años`;
      };
      const fechaAnios = new Date(1986, 3, 28);
      console.log(
        `Desde el año ${fechaAnios} han pasado ${calcularAniosPasados(
          fechaAnios
        )}`
      );
    </script>
  </body>
</html>
